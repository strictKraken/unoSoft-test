import{m as f,d as V,n as y,r as N,q as T,s as q,b as d,v as R,x as H,A as L,i as W,y as X,z as J,a as m,c as C,l as Q,t as U,h as g,B as Y,C as O,D as $,E as Z,G as K,H as ee,_ as te}from"./index-CxkpxSSt.js";import{o as B,V as G,s as oe,C as ne,A as ae}from"./index-7KchTkva.js";const k=()=>null;k.isSelectOption=!0;k.displayName="AAutoCompleteOption";const _=k,x=()=>null;x.isSelectOptGroup=!0;x.displayName="AAutoCompleteOptGroup";const A=x;function se(e){var o,t;return((o=e==null?void 0:e.type)===null||o===void 0?void 0:o.isSelectOption)||((t=e==null?void 0:e.type)===null||t===void 0?void 0:t.isSelectOptGroup)}const le=()=>f(f({},B(oe(),["loading","mode","optionLabelProp","labelInValue"])),{dataSource:Array,dropdownMenuStyle:{type:Object,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},prefixCls:String,showSearch:{type:Boolean,default:void 0},transitionName:String,choiceTransitionName:{type:String,default:"zoom"},autofocus:{type:Boolean,default:void 0},backfill:{type:Boolean,default:void 0},filterOption:{type:[Boolean,Function],default:!1},defaultActiveFirstOption:{type:Boolean,default:!0},status:String}),w=V({compatConfig:{MODE:3},name:"AAutoComplete",inheritAttrs:!1,props:le(),slots:Object,setup(e,o){let{slots:t,attrs:a,expose:l}=o;y(),y(),y(!e.dropdownClassName);const v=N(),h=()=>{var n;const i=H((n=t.default)===null||n===void 0?void 0:n.call(t));return i.length?i[0]:void 0};l({focus:()=>{var n;(n=v.value)===null||n===void 0||n.focus()},blur:()=>{var n;(n=v.value)===null||n===void 0||n.blur()}});const{prefixCls:c}=T("select",e);return()=>{var n,i,p;const{size:s,dataSource:M,notFoundContent:z=(n=t.notFoundContent)===null||n===void 0?void 0:n.call(t)}=e;let S;const{class:P}=a,F={[P]:!!P,[`${c.value}-lg`]:s==="large",[`${c.value}-sm`]:s==="small",[`${c.value}-show-search`]:!0,[`${c.value}-auto-complete`]:!0};if(e.options===void 0){const b=((i=t.dataSource)===null||i===void 0?void 0:i.call(t))||((p=t.options)===null||p===void 0?void 0:p.call(t))||[];b.length&&se(b[0])?S=b:S=M?M.map(r=>{if(q(r))return r;switch(typeof r){case"string":return d(_,{key:r,value:r},{default:()=>[r]});case"object":return d(_,{key:r.value,value:r.value},{default:()=>[r.text]});default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}}):[]}const I=B(f(f(f({},e),a),{mode:G.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:h,notFoundContent:z,class:F,popupClassName:e.popupClassName||e.dropdownClassName,ref:v}),["dataSource","loading"]);return d(G,I,R({default:()=>[S]},B(t,["default","dataSource","options"])))}}}),ce=f(w,{Option:_,OptGroup:A,install(e){return e.component(w.name,w),e.component(_.displayName,_),e.component(A.displayName,A),e}});var re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};const ue=re;function D(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?Object(arguments[o]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){ie(e,l,t[l])})}return e}function ie(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var E=function(o,t){var a=D({},o,t.attrs);return d(L,D({},a,{icon:ue}),null)};E.displayName="UserAddOutlined";E.inheritAttrs=!1;const de=E,pe=(e,o)=>{let t;return(...a)=>{clearTimeout(t),t=setTimeout(()=>e(...a),o)}},fe={class:"wrapper"},ve={class:"auto-complete__item"},_e={style:{"margin-left":"auto",display:"flex",gap:"1em","align-items":"center"}},me={key:0,class:"auto-complete__info-message"},Oe={key:2,class:"auto-complete__button-add auto-complete__button_added"},he=500,Se=V({__name:"AutoComplete",setup(e){const o=W(),t=X(),a=N({}),l=N([]),v=pe(async u=>{if(u){const c=await J({q:u});l.value=c}else l.value=[]},he),h=u=>{v(u)},j=u=>{o.add(u)};return(u,c)=>{const n=ae,i=ee,p=ce;return m(),C("div",fe,[d(p,{disabled:!O(t).userSession,value:a.value,"onUpdate:value":c[0]||(c[0]=s=>a.value=s),options:l.value,class:"auto-complete",placeholder:"search users...",onSelect:$(()=>{},["prevent","stop"]),onSearch:h},{option:Q(s=>[g("div",ve,[d(n,{src:s.photo_50},null,8,["src"]),g("span",null,U(s.first_name)+" "+U(s.last_name),1),g("div",_e,[s.can_access_closed===!1?(m(),C("div",me,"profile is private")):Y("",!0),O(o).search(s)?(m(),C("div",Oe,[d(O(ne))])):(m(),K(i,{key:1,disabled:s.can_access_closed===!1,class:"auto-complete__button-add",onClick:$(()=>j(s),["stop","prevent"]),shape:"circle",icon:Z(O(de))},null,8,["disabled","onClick","icon"]))])])]),_:1},8,["disabled","value","options"])])}}}),Ce=te(Se,[["__scopeId","data-v-76630742"]]);export{Ce as default};
